(()=>{"use strict";$((function(){!function(e){let o=new Image;o.onload=o.onerror=function(){1==(2==o.height)?$("body").addClass("webp"):$("body").addClass("no-webp")},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function o(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function s(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}o(),$(window).on("resize",(()=>o())),$(document).on("click",(function(e){let o=$(e.target);if(o.hasClass("icon-menu")&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),o.is(".menu")&&($(".header").removeClass("open-menu"),$("body").removeClass("lock-menu")),o.is(".menu__link")&&$("body").hasClass("_touch")){let s=o.next(".submenu");s.length>0&&e.preventDefault(),o.hasClass("open-submenu")?(o.removeClass("open-submenu"),s.removeClass("active")):($(".menu__link").removeClass("open-submenu"),$(".submenu").removeClass("active"),o.addClass("open-submenu"),s.addClass("active"))}if($(".submenu").hasClass("active")&&!o[0].closest(".menu")&&$(".submenu").removeClass("active").prev(".menu__link").removeClass("open-submenu"),o.closest(".popup__btn").length&&!o.closest(".popup__btn").is("a")&&($(".popup__back").removeClass("hidden"),$(".popup__main").addClass("hidden"),$(".popup__form").eq(o.closest(".popup__list-item").index()).addClass("active")),o.is(".popup__back")&&($(".popup__back").addClass("hidden"),$(".popup__main").removeClass("hidden"),$(".popup__form").removeClass("active")),o[0].closest(".gallery")){if(o.is(".gallery__prev")||o.is(".gallery__next"))return;o.closest(".gallery").find(".gallery__items").slick("getSlick").next()}})),$("[data-fancybox]").fancybox({touch:!1,beforeShow:function(e,o){$(".popup__form").removeClass("active");var s=o.opts.$orig.data("current");s&&($("#"+s).addClass("active"),$(".popup__back").removeClass("hidden"),$(".popup__main").addClass("hidden"))},afterClose:function(e,o){$(".popup__back").addClass("hidden"),$(".popup__main").removeClass("hidden"),$(".popup__form").removeClass("active")}}),$(".gallery__items").length>0&&$(".gallery__items").slick({infinite:!0,slidesToShow:1,prevArrow:".gallery__prev",nextArrow:".gallery__next",fade:!0}),$(".works__slider").length>0&&$(".works__slider").slick({infinite:!0,slidesToShow:2,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:1,centerMode:!0,centerPadding:"20px"}}]}),s(),window.addEventListener("resize",(()=>s())),$('input[type="tel"]').each((function(){$(this).inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,clearIncomplete:!0})})),gsap.registerPlugin(ScrollTrigger),$(".hero__image").length>0&&gsap.to(".hero__image img",{y:"-15%",ease:"none",scrollTrigger:{trigger:".hero",start:-1*s()+"px top",end:"bottom top",scrub:!0}}),$(".idea").length>0&&gsap.to(".idea__video",{maxWidth:"100vw",ease:"none",scrollTrigger:{trigger:".idea__video",start:"top bottom",end:"bottom top",scrub:!0}}),$(".video-block").length>0&&$(".video-block").each((function(){const e=$(this),o=e.find(".video-block__cursor");e.css("cursor","none"),e.on("mousemove",(function(s){const t=e.offset(),n=s.pageX-t.left,a=s.pageY-t.top;o.css({top:`${a}px`,left:`${n}px`,position:"absolute",transform:"translate(-50%, -50%)"})})),e.on("mouseenter",(function(){o.show()})),e.on("mouseleave",(function(){o.hide()}))})),$(".project__image").length>0&&gsap.to(".project__image img",{y:"-20%",ease:"none",scrollTrigger:{trigger:".project",start:-1*s()+"px top",end:"bottom top",scrub:!0}}),$(".video__block").length>0&&gsap.to(".video__block img",{y:"-20%",ease:"none",scrollTrigger:{trigger:".video",start:-1*s()+"px top",end:"bottom top",scrub:!0}});const t=$("[data-parallax]");t.length>0&&t.each((function(){const e=$(this),o=e.data("parallax")||"-15";gsap.to(e[0],{y:`${o}vh`,ease:"none",scrollTrigger:{trigger:e[0],start:"top bottom",end:"+200% bottom",scrub:!0}})}))}))})();